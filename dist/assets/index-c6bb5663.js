import{az as de,a1 as Y,a2 as ue,$ as Ee,s as fe,V as Le,i as Ne,j as He,o as ve,c as M,n as z,m as he,M as E,d as W,q as I,av as be,U as me,b as k,aA as ge,e as ye,x as De,k as $,v as we,ax as G,C as P,_ as L,aB as xe,aC as Me,a as m,w as p,X as q,D as We,t as X,aw as Fe,E as Ze,aD as Ve,f as ie,y as Q,aE as Ke,al as Ue,aF as oe,J as je,aG as Xe,aH as qe,r as Je,h as Ye,ao as Ge,aI as Qe,aJ as pe,F as et,z as tt,A as nt,aK as at,aL as lt,ag as it,K as ot,Q as se}from"./index-91b6ba5b.js";import{a as ee,b as st}from"./index-21f726b7.js";import{S as rt,a as ct}from"./index-c074a323.js";function dt(e,a,i){let s,d=0;const t=e.scrollLeft,o=i===0?1:Math.round(i*1e3/16);function r(){de(s)}function v(){e.scrollLeft+=(a-t)/o,++d<o&&(s=Y(v))}return v(),r}function ut(e,a,i,s){let d,t=ue(e);const o=t<a,r=i===0?1:Math.round(i*1e3/16),v=(a-t)/r;function g(){de(d)}function w(){t+=v,(o&&t>a||!o&&t<a)&&(t=a),Ee(e,t),o&&t<a||!o&&t>a?d=Y(w):s&&(d=Y(s))}return w(),g}let ft=0;function Se(){const e=fe(),{name:a="unknown"}=(e==null?void 0:e.type)||{};return`${a}-${++ft}`}function Te(e,a){if(!Le||!window.IntersectionObserver)return;const i=new IntersectionObserver(t=>{a(t[0].intersectionRatio>0)},{root:document.body}),s=()=>{e.value&&i.observe(e.value)},d=()=>{e.value&&i.unobserve(e.value)};Ne(d),He(d),ve(s)}const[vt,ht]=M("sticky"),bt={zIndex:z,position:he("top"),container:Object,offsetTop:E(0),offsetBottom:E(0)};var mt=W({name:vt,props:bt,emits:["scroll","change"],setup(e,{emit:a,slots:i}){const s=I(),d=be(s),t=me({fixed:!1,width:0,height:0,transform:0}),o=I(!1),r=k(()=>ge(e.position==="top"?e.offsetTop:e.offsetBottom)),v=k(()=>{if(o.value)return;const{fixed:f,height:T,width:u}=t;if(f)return{width:`${u}px`,height:`${T}px`}}),g=k(()=>{if(!t.fixed||o.value)return;const f=ye(De(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${r.value}px`});return t.transform&&(f.transform=`translate3d(0, ${t.transform}px, 0)`),f}),w=f=>a("scroll",{scrollTop:f,isFixed:t.fixed}),R=()=>{if(!s.value||G(s))return;const{container:f,position:T}=e,u=L(s),S=ue(window);if(t.width=u.width,t.height=u.height,T==="top")if(f){const c=L(f),B=c.bottom-r.value-t.height;t.fixed=r.value>u.top&&c.bottom>0,t.transform=B<0?B:0}else t.fixed=r.value>u.top;else{const{clientHeight:c}=document.documentElement;if(f){const B=L(f),b=c-B.top-r.value-t.height;t.fixed=c-r.value<u.bottom&&c>B.top,t.transform=b<0?-b:0}else t.fixed=c-r.value<u.bottom}w(S)};return $(()=>t.fixed,f=>a("change",f)),we("scroll",R,{target:d,passive:!0}),Te(s,R),$([xe,Me],()=>{!s.value||G(s)||!t.fixed||(o.value=!0,P(()=>{const f=L(s);t.width=f.width,t.height=f.height,o.value=!1}))}),()=>{var f;return m("div",{ref:s,style:v.value},[m("div",{class:ht({fixed:t.fixed&&!o.value}),style:g.value},[(f=i.default)==null?void 0:f.call(i)])])}}});const gt=p(mt),[yt,re]=M("tabs");var wt=W({name:yt,props:{count:q(Number),inited:Boolean,animated:Boolean,duration:q(z),swipeable:Boolean,lazyRender:Boolean,currentIndex:q(Number)},emits:["change"],setup(e,{emit:a,slots:i}){const s=I(),d=r=>a("change",r),t=()=>{var r;const v=(r=i.default)==null?void 0:r.call(i);return e.animated||e.swipeable?m(rt,{ref:s,loop:!1,class:re("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:d},{default:()=>[v]}):v},o=r=>{const v=s.value;v&&v.state.active!==r&&v.swipeTo(r,{immediate:!e.inited})};return $(()=>e.currentIndex,o),We(()=>{o(e.currentIndex)}),ee({swipeRef:s}),()=>m("div",{class:re("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ce,j]=M("tabs"),xt={type:he("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:E(0),duration:E(.3),animated:Boolean,ellipsis:X,swipeable:Boolean,scrollspy:Boolean,offsetTop:E(0),background:String,lazyRender:X,lineWidth:z,lineHeight:z,beforeChange:Function,swipeThreshold:E(5),titleActiveColor:String,titleInactiveColor:String},Ie=Symbol(Ce);var St=W({name:Ce,props:xt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:a,slots:i}){let s,d,t,o,r;const v=I(),g=I(),w=I(),R=I(),f=Se(),T=be(v),[u,S]=st(),{children:c,linkChildren:B}=Fe(Ie),b=me({inited:!1,position:"",lineStyle:{},currentIndex:-1}),N=k(()=>c.length>+e.swipeThreshold||!e.ellipsis||e.shrink),F=k(()=>({borderColor:e.color,background:e.background})),H=(n,l)=>{var h;return(h=n.name)!=null?h:l},Z=k(()=>{const n=c[b.currentIndex];if(n)return H(n,b.currentIndex)}),O=k(()=>ge(e.offsetTop)),te=k(()=>e.sticky?O.value+s:0),D=n=>{const l=g.value,h=u.value;if(!N.value||!l||!h||!h[b.currentIndex])return;const x=h[b.currentIndex].$el,y=x.offsetLeft-(l.offsetWidth-x.offsetWidth)/2;o&&o(),o=dt(l,y,n?0:+e.duration)},_=()=>{const n=b.inited;P(()=>{const l=u.value;if(!l||!l[b.currentIndex]||e.type!=="line"||G(v.value))return;const h=l[b.currentIndex].$el,{lineWidth:x,lineHeight:y}=e,C=h.offsetLeft+h.offsetWidth/2,A={width:ie(x),backgroundColor:e.color,transform:`translateX(${C}px) translateX(-50%)`};if(n&&(A.transitionDuration=`${e.duration}s`),Q(y)){const U=ie(y);A.height=U,A.borderRadius=U}b.lineStyle=A})},ke=n=>{const l=n<b.currentIndex?-1:1;for(;n>=0&&n<c.length;){if(!c[n].disabled)return n;n+=l}},V=(n,l)=>{const h=ke(n);if(!Q(h))return;const x=c[h],y=H(x,h),C=b.currentIndex!==null;b.currentIndex!==h&&(b.currentIndex=h,l||D(),_()),y!==e.active&&(a("update:active",y),C&&a("change",y,x.title)),t&&!e.scrollspy&&Ue(Math.ceil(oe(v.value)-O.value))},K=(n,l)=>{const h=c.find((y,C)=>H(y,C)===n),x=h?c.indexOf(h):0;V(x,l)},ne=(n=!1)=>{if(e.scrollspy){const l=c[b.currentIndex].$el;if(l&&T.value){const h=oe(l,T.value)-te.value;d=!0,r&&r(),r=ut(T.value,h,n?0:+e.duration,()=>{d=!1})}}},Re=(n,l,h)=>{const{title:x,disabled:y}=c[l],C=H(c[l],l);y||(je(e.beforeChange,{args:[C],done:()=>{V(l),ne()}}),Xe(n)),a("clickTab",{name:C,title:x,event:h,disabled:y})},Be=n=>{t=n.isFixed,a("scroll",n)},$e=n=>{P(()=>{K(n),ne(!0)})},_e=()=>{for(let n=0;n<c.length;n++){const{top:l}=L(c[n].$el);if(l>te.value)return n===0?0:n-1}return c.length-1},Ae=()=>{if(e.scrollspy&&!d){const n=_e();V(n)}},Pe=()=>{if(e.type==="line"&&c.length)return m("div",{class:j("line"),style:b.lineStyle},null)},ae=()=>{var n,l,h;const{type:x,border:y,sticky:C}=e,A=[m("div",{ref:C?void 0:w,class:[j("wrap"),{[Ke]:x==="line"&&y}]},[m("div",{ref:g,role:"tablist",class:j("nav",[x,{shrink:e.shrink,complete:N.value}]),style:F.value,"aria-orientation":"horizontal"},[(n=i["nav-left"])==null?void 0:n.call(i),c.map(U=>U.renderTitle(Re)),Pe(),(l=i["nav-right"])==null?void 0:l.call(i)])]),(h=i["nav-bottom"])==null?void 0:h.call(i)];return C?m("div",{ref:w},[A]):A},le=()=>{_(),P(()=>{var n,l;D(!0),(l=(n=R.value)==null?void 0:n.swipeRef.value)==null||l.resize()})};$(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],_),$(xe,le),$(()=>e.active,n=>{n!==Z.value&&K(n)}),$(()=>c.length,()=>{b.inited&&(K(e.active),_(),P(()=>{D(!0)}))});const ze=()=>{K(e.active,!0),P(()=>{b.inited=!0,w.value&&(s=L(w.value).height),D(!0)})},Oe=(n,l)=>a("rendered",n,l);return ee({resize:le,scrollTo:$e}),Ze(_),Ve(_),ve(ze),Te(v,_),we("scroll",Ae,{target:T,passive:!0}),B({id:f,props:e,setLine:_,scrollable:N,onRendered:Oe,currentName:Z,setTitleRefs:S,scrollIntoView:D}),()=>m("div",{ref:v,class:j([e.type])},[e.sticky?m(gt,{container:v.value,offsetTop:O.value,onScroll:Be},{default:()=>[ae()]}):ae(),m(wt,{ref:R,count:c.length,inited:b.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:b.currentIndex,onChange:V},{default:()=>{var n;return[(n=i.default)==null?void 0:n.call(i)]}})])}});const Tt=Symbol(),[Ct,ce]=M("tab"),It=W({name:Ct,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:z,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:X},setup(e,{slots:a}){const i=k(()=>{const d={},{type:t,color:o,disabled:r,isActive:v,activeColor:g,inactiveColor:w}=e;o&&t==="card"&&(d.borderColor=o,r||(v?d.backgroundColor=o:d.color=o));const f=v?g:w;return f&&(d.color=f),d}),s=()=>{const d=m("span",{class:ce("text",{ellipsis:!e.scrollable})},[a.title?a.title():e.title]);return e.dot||Q(e.badge)&&e.badge!==""?m(qe,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[d]}):d};return()=>m("div",{id:e.id,role:"tab",class:[ce([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[s()])}}),[kt,J]=M("tab"),Rt=ye({},Je,{dot:Boolean,name:z,badge:z,title:String,disabled:Boolean,titleClass:Ye,titleStyle:[String,Object],showZeroBadge:X});var Bt=W({name:kt,props:Rt,setup(e,{slots:a}){const i=Se(),s=I(!1),d=fe(),{parent:t,index:o}=Ge(Ie);if(!t)return;const r=()=>{var u;return(u=e.name)!=null?u:o.value},v=()=>{s.value=!0,t.props.lazyRender&&P(()=>{t.onRendered(r(),e.title)})},g=k(()=>{const u=r()===t.currentName.value;return u&&!s.value&&v(),u}),w=I(""),R=I("");Qe(()=>{const{titleClass:u,titleStyle:S}=e;w.value=u?at(u):"",R.value=S&&typeof S!="string"?lt(it(S)):S});const f=u=>m(It,ot({key:i,id:`${t.id}-${o.value}`,ref:t.setTitleRefs(o.value),style:R.value,class:w.value,isActive:g.value,controls:i,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:S=>u(d.proxy,o.value,S)},se(t.props,["type","color","shrink"]),se(e,["dot","badge","title","disabled","showZeroBadge"])),{title:a.title}),T=I(!g.value);return $(g,u=>{u?T.value=!1:pe(()=>{T.value=!0})}),$(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),et(Tt,g),ee({id:i,renderTitle:f}),()=>{var u;const S=`${t.id}-${o.value}`,{animated:c,swipeable:B,scrollspy:b,lazyRender:N}=t.props;if(!a.default&&!c)return;const F=b||g.value;if(c||B)return m(ct,{id:i,role:"tabpanel",class:J("panel-wrapper",{inactive:T.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":S},{default:()=>{var O;return[m("div",{class:J("panel")},[(O=a.default)==null?void 0:O.call(a)])]}});const Z=s.value||b||!N?(u=a.default)==null?void 0:u.call(a):null;return tt(m("div",{id:i,role:"tabpanel",class:J("panel"),tabindex:F?0:-1,"aria-labelledby":S},[Z]),[[nt,F]])}}});const Pt=p(Bt),zt=p(St);export{zt as T,Pt as a,Se as u};
